(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},"028b":function(e,t,n){"use strict";var i=n("3f4d"),a=n.n(i);a.a},"035e":function(e,t,n){"use strict";var i=n("e565"),a=n.n(i);a.a},"0781":function(e,t,n){"use strict";n.r(t);var i=n("24ab"),a=n.n(i),r=n("83d6"),s=n.n(r),o=s.a.showSettings,c=s.a.tagsView,u=s.a.fixedHeader,l=s.a.sidebarLogo,d={theme:a.a.theme,showSettings:o,tagsView:c,fixedHeader:u,sidebarLogo:l},f={CHANGE_SETTING:function(e,t){var n=t.key,i=t.value;e.hasOwnProperty(n)&&(e[n]=i)}},h={changeSetting:function(e,t){var n=e.commit;n("CHANGE_SETTING",t)}};t["default"]={namespaced:!0,state:d,mutations:f,actions:h}},"096a":function(e,t,n){},"0cfb2":function(e,t,n){"use strict";var i=n("5880"),a=n.n(i);a.a},"10b6":function(e,t,n){},"14b2":function(e,t,n){"use strict";n("4160"),n("a434"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0"),n("2b3d"),n("96cf");var i=n("1da1"),a=(n("c975"),n("bc3a")),r=n.n(a),s=n("a7fe"),o=n.n(s),c=n("2b0e");c["default"].use(o.a,r.a);var u=c["default"].axios.create({baseURL:"",timeout:15e3});u.interceptors.request.use((function(e){return e}),(function(e){Promise.reject(e)})),u.interceptors.response.use((function(e){var t=e.data;if(t&&(12===t.code||900===t.code||"未登陆"==t.msg)){var n=sessionStorage.getItem("token");n&&(sessionStorage.setItem("token",""),window.location.href="http://www.xxx.com/")}return t}),(function(e){return-1!==e.message.indexOf("timeout")?Promise.reject("timeout"):Promise.reject(e)}));var l=u,d=n("5c96");t["a"]={getStatus:h,queryApi:p,getList:m,getDetail:g,doSth:w,download:_,downloadUrl:x,showMessage:f,zIndexUp:C,zIndexDown:O,zIndexTop:E,zIndexBottom:S};function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";"warning"==t?d["Message"].warning({message:e,customClass:"max-z-index"}):d["Message"].success({message:e,customClass:"max-z-index"})}function h(e,t){if(void 0==t)return e;var n="";return e.forEach((function(e){e.value==t&&(n=e.label)})),n}function p(e,t,n){var i={url:t,method:n,headers:{token:sessionStorage.getItem("token")}};return"get"==n?i.params=e:i.data=e,l(i)}function m(e,t,n,i,a,r){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,i,a,r,s){var o,c,u,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(u in o={},c={},void 0==r&&(r=0),void 0==s&&(s="msg"),t)""!==t[u]&&(c[u]=t[u]);return e.next=7,p(c,n,i).then((function(e){e.code==r?o=a(e):l.showMessage(e[s]?e[s]:"获取列表失败","warning")})).catch((function(e){l.showMessage("timeout"==e?"接口超时":"接口异常","warning")}));case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function g(e,t,n){return b.apply(this,arguments)}function b(){return b=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,i){var a,r,s,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s in a={},r={},t)""!==t[s]&&(r[s]=t[s]);return e.next=5,p(r,n,i).then((function(e){a=e})).catch((function(e){o.showMessage("timeout"==e?"接口超时":"接口异常","warning")}));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function w(e,t,n,i,a){return V.apply(this,arguments)}function V(){return V=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,i,a,r){var s,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=!1,void 0==a&&(a=0),void 0==r&&(r="msg"),e.next=5,p(t,n,i).then((function(e){e.code==a?(s=!0,o.showMessage("操作成功","success")):o.showMessage(e[r]?e[r]:"操作失败","warning")})).catch((function(e){o.showMessage("timeout"==e?"接口超时":"接口异常","warning")}));case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function _(e,t,n,i,a){var s=this;void 0==i&&(i="post"),void 0==a&&(a="msg");var o={method:i,url:e,responseType:"blob",headers:{token:sessionStorage.getItem("token")||""}};"post"==i?o.data=t:o.params=t,r()(o).then((function(e){var t=new Blob([e.data]);if("application/json"==e.data.type){var i=new FileReader;i.readAsText(t,"utf-8"),i.onload=function(e){var t=e.target&&e.target.result?JSON.parse(e.target.result):"";t&&t[a]?s.showMessage(t[a],"warning"):s.showMessage("导出失败","warning")}}else{var r=window.URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.setAttribute("download",n),document.body.appendChild(o),o.click()}})).catch((function(e){s.showMessage("导出失败","warning")}))}function x(e){var t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click()}function E(e,t){0!=t?e.unshift(e.splice(t,1)[0]):this.showMessage("已经处于置顶","warning")}function S(e,t){t!=e.length-1?(e.push(e[t]),e.splice(t,1)):this.showMessage("已经处于置底","warning")}function C(e,t){0!=t?e[t]=e.splice(t-1,1,e[t])[0]:this.showMessage("已经处于置顶，无法上移","warning")}function O(e,t){t!=e.length-1?e[t]=e.splice(t+1,1,e[t])[0]:this.showMessage("已经处于置底，无法下移","warning")}},"1e60":function(e,t,n){"use strict";var i=n("7296"),a=n.n(i);a.a},"1f2c":function(e,t,n){},"24ab":function(e,t,n){e.exports={theme:"#1890ff"}},3426:function(e,t,n){"use strict";var i=n("096a"),a=n.n(i);a.a},"3f4d":function(e,t,n){},"4d49":function(e,t,n){"use strict";n.r(t);n("a434");var i={logs:[]},a={ADD_ERROR_LOG:function(e,t){e.logs.push(t)},CLEAR_ERROR_LOG:function(e){e.logs.splice(0)}},r={addErrorLog:function(e,t){var n=e.commit;n("ADD_ERROR_LOG",t)},clearErrorLog:function(e){var t=e.commit;t("CLEAR_ERROR_LOG")}};t["default"]={namespaced:!0,state:i,mutations:a,actions:r}},"56d7":function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"parseTime",(function(){return Ge["c"]})),n.d(i,"formatTime",(function(){return Ge["b"]})),n.d(i,"timeAgo",(function(){return Fe})),n.d(i,"numberFormatter",(function(){return Je})),n.d(i,"toThousandFilter",(function(){return qe})),n.d(i,"uppercaseFirst",(function(){return Ye}));n("4de4"),n("4160"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("4d90"),n("5319"),n("159b"),n("e623"),n("e379"),n("5dc8"),n("37e1");var a=n("2b0e"),r=n("a78e"),s=n.n(r),o=(n("f5df1"),n("5c96")),c=n.n(o),u=(n("24ab"),n("b20f"),n("be35"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),l=[],d={name:"App"},f=d,h=n("2877"),p=Object(h["a"])(f,u,l,!1,null,null,null),m=p.exports,v=(n("13d5"),n("ddb0"),n("2f62")),g={sidebar:function(e){return e.app.sidebar},size:function(e){return e.app.size},device:function(e){return e.app.device},visitedViews:function(e){return e.tagsView.visitedViews},cachedViews:function(e){return e.tagsView.cachedViews},errorLogs:function(e){return e.errorLog.logs}},b=g;a["default"].use(v["a"]);var w=n("c653"),V=w.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),i=w(t);return e[n]=i.default,e}),{}),_=new v["a"].Store({modules:V,getters:b}),x=_,E=n("8c4f"),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-wrapper",class:e.classObj},["mobile"===e.device&&e.sidebar.opened?n("div",{staticClass:"drawer-bg",on:{click:e.handleClickOutside}}):e._e(),n("sidebar",{staticClass:"sidebar-container"}),n("div",{staticClass:"main-container",class:{hasTagsView:e.needTagsView}},[n("div",{class:{"fixed-header":e.fixedHeader}},[n("navbar"),e.needTagsView?n("tags-view"):e._e()],1),n("app-main")],1)],1)},C=[],O=n("5530"),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-main"},[n("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[n("keep-alive",{attrs:{include:e.cachedViews}},[n("router-view",{key:e.key})],1)],1)],1)},L=[],D={name:"AppMain",computed:{cachedViews:function(){return this.$store.state.tagsView.cachedViews},key:function(){return this.$route.path}}},y=D,A=(n("1e60"),n("028b"),Object(h["a"])(y,T,L,!1,null,"1cf39dc6",null)),k=A.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar"},[n("hamburger",{staticClass:"hamburger-container",attrs:{id:"hamburger-container","is-active":e.sidebar.opened},on:{toggleClick:e.toggleSideBar}}),n("breadcrumb",{staticClass:"breadcrumb-container",attrs:{id:"breadcrumb-container"}}),n("div",{staticClass:"right-menu"},["mobile"!==e.device?[n("error-log",{staticClass:"errLog-container right-menu-item hover-effect"}),n("span",{staticClass:"right-menu-item"},[e._v(e._s(e.accountCode))]),n("span",{staticClass:"right-menu-item margin-right-25"},[n("el-tag",{key:"roleName",attrs:{type:"",effect:"dark"}},[e._v(" "+e._s(e.roleName)+" ")])],1)]:e._e()],2),n("el-dialog",{attrs:{title:"温馨提示",visible:e.dialogVisible,width:"50%","append-to-body":!0,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("span",[e._v("您还没有登录")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.go2Login()}}},[e._v("去登录")])],1)])],1)},I=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"/"}},[n("transition-group",{attrs:{name:"breadcrumb"}},e._l(e.levelList,(function(t,i){return n("el-breadcrumb-item",{key:t.path},["noRedirect"===t.redirect||i==e.levelList.length-1?n("span",{staticClass:"no-redirect"},[e._v(e._s(t.meta.title))]):n("a",{on:{click:function(n){return n.preventDefault(),e.handleLink(t)}}},[e._v(e._s(t.meta.title))])])})),1)],1)},M=[],H=(n("99af"),n("b0c0"),n("2ca0"),n("498a"),n("bd11")),R=n.n(H),P={data:function(){return{levelList:null}},watch:{$route:function(e){e.path.startsWith("/redirect/")||this.getBreadcrumb()}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var e=this.$route.matched.filter((function(e){return e.meta&&e.meta.title})),t=e[0];this.isHome(t)||(e=[{path:"/home",meta:{title:"首页"}}].concat(e)),this.levelList=e.filter((function(e){return e.meta&&e.meta.title&&!1!==e.meta.breadcrumb}))},isHome:function(e){var t=e&&e.name;return!!t&&t.trim().toLocaleLowerCase()==="Home".toLocaleLowerCase()},pathCompile:function(e){var t=this.$route.params,n=R.a.compile(e);return n(t)},handleLink:function(e){var t=e.redirect,n=e.path;t?this.$router.push(t):this.$router.push(this.pathCompile(n))}}},B=P,W=(n("035e"),Object(h["a"])(B,j,M,!1,null,"d5c14750",null)),z=W.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"0 15px"},on:{click:e.toggleClick}},[n("svg",{staticClass:"hamburger",class:{"is-active":e.isActive},attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"}},[n("path",{attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}})]),e._v(" "+e._s("mobile"===e.device||e.isActive?"展开":"隐藏")+"导航 ")])},G=[],U={name:"Hamburger",props:["isActive"],computed:Object(O["a"])({},Object(v["b"])(["device"])),methods:{toggleClick:function(){this.$emit("toggleClick")}}},F=U,J=(n("3426"),Object(h["a"])(F,N,G,!1,null,"0906c9e6",null)),q=J.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.errorLogs.length>0?n("div",[n("el-badge",{staticStyle:{"line-height":"25px","margin-top":"-5px"},attrs:{"is-dot":!0},nativeOn:{click:function(t){e.dialogTableVisible=!0}}},[n("el-button",{staticStyle:{padding:"8px 10px"},attrs:{size:"small",type:"danger"}},[n("svg-icon",{attrs:{"icon-class":"bug"}})],1)],1),n("el-dialog",{attrs:{visible:e.dialogTableVisible,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("span",{staticStyle:{"padding-right":"10px"}},[e._v("Error Log")]),n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-delete"},on:{click:e.clearAll}},[e._v("Clear All")])],1),n("el-table",{attrs:{data:e.errorLogs,border:""}},[n("el-table-column",{attrs:{label:"Message"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[n("div",[n("span",{staticClass:"message-title"},[e._v("Msg:")]),n("el-tag",{attrs:{type:"danger"}},[e._v(" "+e._s(i.err.message)+" ")])],1),n("br"),n("div",[n("span",{staticClass:"message-title",staticStyle:{"padding-right":"10px"}},[e._v("Info: ")]),n("el-tag",{attrs:{type:"warning"}},[e._v(" "+e._s(i.vm.$vnode.tag)+" error in "+e._s(i.info)+" ")])],1),n("br"),n("div",[n("span",{staticClass:"message-title",staticStyle:{"padding-right":"16px"}},[e._v("Url: ")]),n("el-tag",{attrs:{type:"success"}},[e._v(" "+e._s(i.url)+" ")])],1)]}}],null,!1,3134886942)}),n("el-table-column",{attrs:{label:"Stack"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.err.stack)+" ")]}}],null,!1,2525805560)})],1)],1)],1):e._e()},Z=[],X={name:"ErrorLog",data:function(){return{dialogTableVisible:!1}},computed:{errorLogs:function(){return this.$store.getters.errorLogs}},methods:{clearAll:function(){this.dialogTableVisible=!1,this.$store.dispatch("errorLog/clearErrorLog")}}},K=X,Q=(n("69d8"),Object(h["a"])(K,Y,Z,!1,null,"be34583a",null)),ee=Q.exports,te=n("5f87"),ne=(n("8237"),{components:{Breadcrumb:z,Hamburger:q,ErrorLog:ee},data:function(){return{accountCode:"",roleName:"",dialogVisible:!1}},computed:Object(O["a"])({},Object(v["b"])(["sidebar","avatar","device"])),created:function(){var e=this,t=JSON.parse(Object(te["a"])("platformAccountInfo"))||{},n=t.roleList||[{}];t.accountCode?(e.accountCode=t.accountCode||"",e.roleName=n[0].roleName||""):e.dialogVisible=!0},methods:{toggleSideBar:function(){this.$store.dispatch("app/toggleSideBar")},go2Login:function(){this.dialogVisible=!1,location.href="http://www.xxx.com"}}}),ie=ne,ae=(n("90ac"),Object(h["a"])(ie,$,I,!1,null,"559dac9a",null)),re=ae.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"aside-wrapper"},[e._m(0),n("div",{staticClass:"aside"},[n("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":e.defaultActive,"unique-opened":!0,collapse:e.isCollapse,"background-color":e.variables.menuBg,"text-color":e.variables.menuText,"active-text-color":e.variables.menuActiveText,router:"","collapse-transition":!1,mode:"vertical"}},[e._l(e.items,(function(t){return[t.subs?[n("el-submenu",{key:t.index,attrs:{index:t.index}},[n("template",{slot:"title"},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.iconFlag,expression:"iconFlag"}],class:t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),[e._l(t.subs,(function(t,i){return[t.subs?n("el-submenu",{key:i,attrs:{index:t.title}},[n("template",{slot:"title"},[n("i",{class:t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._l(t.subs,(function(t,i){return n("el-menu-item",{key:i,attrs:{index:t.index}},[e._v(e._s(t.title))])}))],2):n("el-menu-item",{key:t.index,attrs:{index:t.index}},[n("i",{staticClass:"iconfont icon-tuoyuanxing"}),e._v(" "+e._s(t.title)+" ")])]}))]],2)]:[n("el-menu-item",{key:t.index,attrs:{index:t.index}},[n("i",{class:t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])]]}))],2)],1)])},oe=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sidebar-top"},[i("img",{attrs:{src:n("f48a"),alt:"logo",width:"170"}})])}],ce=n("6985"),ue=n("cf1e"),le=n.n(ue),de={name:"Sidebar",components:{},props:{isCollapse:{type:Boolean,default:!1}},data:function(){return{iconFlag:!0,user:{userAvatar:"",roleName:"",accountCode:""}}},mounted:function(){var e=JSON.parse(Object(te["a"])("platformAccountInfo"))||{};e.roleList},computed:{defaultActive:function(){return this.$route.path&&"/"!=this.$route.path?this.$route.path:"/dashboard"},items:function(){return ce["a"].getMenuJson()},variables:function(){return le.a}},methods:{}},fe=de,he=(n("8a5e"),Object(h["a"])(fe,se,oe,!1,null,"67abb4aa",null)),pe=he.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[n("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-wrapper",on:{scroll:e.handleScroll}},e._l(e.visitedViews,(function(t){return n("router-link",{key:t.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:e.isActive(t)?"active":"",attrs:{to:{path:t.path,query:t.query,fullPath:t.fullPath},tag:"span"},nativeOn:{mouseup:function(n){if("button"in n&&1!==n.button)return null;!e.isAffix(t)&&e.closeSelectedTag(t)},contextmenu:function(n){return n.preventDefault(),e.openMenu(t,n)}}},[e._v(" "+e._s(t.title)+" "),e.isAffix(t)?e._e():n("span",{staticClass:"el-icon-close",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),e.closeSelectedTag(t)}}})])})),1),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top+"px"}},[n("li",{on:{click:function(t){return e.refreshSelectedTag(e.selectedTag)}}},[e._v("刷新")]),e.isAffix(e.selectedTag)?e._e():n("li",{on:{click:function(t){return e.closeSelectedTag(e.selectedTag)}}},[e._v("关闭")]),n("li",{on:{click:e.closeOthersTags}},[e._v("关闭其他")]),n("li",{on:{click:function(t){return e.closeAllTags(e.selectedTag)}}},[e._v("关闭所有")])])],1)},ve=[],ge=(n("fb6a"),n("45fc"),n("b85c")),be=n("2909"),we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll(t)}}},[e._t("default")],2)},Ve=[],_e=(n("c740"),4),xe={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},mounted:function(){this.scrollWrapper.addEventListener("scroll",this.emitScroll,!0)},beforeDestroy:function(){this.scrollWrapper.removeEventListener("scroll",this.emitScroll)},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,n=this.scrollWrapper;n.scrollLeft=n.scrollLeft+t/4},emitScroll:function(){this.$emit("scroll")},moveToTarget:function(e){var t=this.$refs.scrollContainer.$el,n=t.offsetWidth,i=this.scrollWrapper,a=this.$parent.$refs.tag,r=null,s=null;if(a.length>0&&(r=a[0],s=a[a.length-1]),r===e)i.scrollLeft=0;else if(s===e)i.scrollLeft=i.scrollWidth-n;else{var o=a.findIndex((function(t){return t===e})),c=a[o-1],u=a[o+1],l=u.$el.offsetLeft+u.$el.offsetWidth+_e,d=c.$el.offsetLeft-_e;l>i.scrollLeft+n?i.scrollLeft=l-n:d<i.scrollLeft&&(i.scrollLeft=d)}}}},Ee=xe,Se=(n("954c"),Object(h["a"])(Ee,we,Ve,!1,null,"506be49c",null)),Ce=Se.exports,Oe=n("df7c"),Te=n.n(Oe),Le={components:{ScrollPane:Ce},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews},routes:function(){return[]}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{isActive:function(e){return e.path===this.$route.path},isAffix:function(e){return e.meta&&e.meta.affix},filterAffixTags:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=[];return e.forEach((function(e){if(e.meta&&e.meta.affix){var a=Te.a.resolve(n,e.path);i.push({fullPath:a,path:a,name:e.name,meta:Object(O["a"])({},e.meta)})}if(e.children){var r=t.filterAffixTags(e.children,e.path);r.length>=1&&(i=[].concat(Object(be["a"])(i),Object(be["a"])(r)))}})),i},initTags:function(){var e,t=this.affixTags=this.filterAffixTags(this.routes),n=Object(ge["a"])(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.name&&this.$store.dispatch("tagsView/addVisitedView",i)}}catch(a){n.e(a)}finally{n.f()}},addTags:function(){var e=this.$route.name;return e&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var n,i=Object(ge["a"])(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.to.path===e.$route.path){e.$refs.scrollPane.moveToTarget(a),a.to.fullPath!==e.$route.fullPath&&e.$store.dispatch("tagsView/updateVisitedView",e.$route);break}}}catch(r){i.e(r)}finally{i.f()}}))},refreshSelectedTag:function(e){var t=this;this.$store.dispatch("tagsView/delCachedView",e).then((function(){var n=e.fullPath;t.$nextTick((function(){t.$router.replace({path:"/redirect"+n})}))}))},closeSelectedTag:function(e){var t=this;this.$store.dispatch("tagsView/delView",e).then((function(n){var i=n.visitedViews;t.isActive(e)&&t.toLastView(i,e)}))},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((function(){e.moveToCurrentTag()}))},closeAllTags:function(e){var t=this;this.$store.dispatch("tagsView/delAllViews").then((function(n){var i=n.visitedViews;t.affixTags.some((function(t){return t.path===e.path}))||t.toLastView(i,e)}))},toLastView:function(e,t){var n=e.slice(-1)[0];n?this.$router.push(n.fullPath):"Dashboard"===t.name?this.$router.replace({path:"/redirect"+t.fullPath}):this.$router.push("/")},openMenu:function(e,t){var n=105,i=this.$el.getBoundingClientRect().left,a=this.$el.offsetWidth,r=a-n,s=t.clientX-i+15;this.left=s>r?r:s,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1},handleScroll:function(){this.closeMenu()}}},De=Le,ye=(n("75a3"),n("cfaa"),Object(h["a"])(De,me,ve,!1,null,"ea39d97a",null)),Ae=ye.exports,ke=document,$e=ke.body,Ie=992,je={watch:{$route:function(e){"mobile"===this.device&&this.sidebar.opened&&x.dispatch("app/closeSideBar",{withoutAnimation:!1})}},beforeMount:function(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizeHandler)},mounted:function(){var e=this.$_isMobile();e&&(x.dispatch("app/toggleDevice","mobile"),x.dispatch("app/closeSideBar",{withoutAnimation:!0}))},methods:{$_isMobile:function(){var e=$e.getBoundingClientRect();return e.width-1<Ie},$_resizeHandler:function(){if(!document.hidden){var e=this.$_isMobile();x.dispatch("app/toggleDevice",e?"mobile":"desktop"),e&&x.dispatch("app/closeSideBar",{withoutAnimation:!0})}}}},Me={name:"Layout",components:{AppMain:k,Navbar:re,Sidebar:pe,TagsView:Ae},mixins:[je],computed:Object(O["a"])(Object(O["a"])({},Object(v["c"])({sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device},showSettings:function(e){return e.settings.showSettings},needTagsView:function(e){return e.settings.tagsView},fixedHeader:function(e){return e.settings.fixedHeader}})),{},{classObj:function(){var e={hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,withoutAnimation:this.sidebar.withoutAnimation,mobile:"mobile"===this.device};return e}}),methods:{handleClickOutside:function(){this.$store.dispatch("app/closeSideBar",{withoutAnimation:!1})}}},He=Me,Re=(n("0cfb2"),Object(h["a"])(He,S,C,!1,null,"f7ae1c24",null)),Pe=Re.exports;a["default"].use(E["a"]);var Be=[{path:"/redirect",component:Pe,hidden:!0,children:[{path:"/redirect/:path(.*)",component:function(){return n.e("chunk-2d230fe7").then(n.bind(null,"ef3c"))}}]},{path:"/404",component:function(){return n.e("chunk-c875c172").then(n.bind(null,"1db4"))},hidden:!0},{path:"/home",component:function(){return n.e("chunk-2d0cfa15").then(n.bind(null,"6511"))},hidden:!0},{path:"/manual",component:function(){return n.e("chunk-4c01b5a5").then(n.bind(null,"de69"))},hidden:!0},{path:"/salesData",component:Pe,redirect:"/salesDashboard",children:[{path:"salesDashboard",component:function(){return Promise.all([n.e("chunk-e450bdd0"),n.e("chunk-9b48c95c")]).then(n.bind(null,"ffc9"))},name:"SalesDashboard",meta:{title:"销售仪表盘",icon:"dashboard",affix:!0}}]},{path:"/productionData",component:Pe,redirect:"/productionDashboard",children:[{path:"productionDashboard",component:function(){return Promise.all([n.e("chunk-e450bdd0"),n.e("chunk-6930f4cc")]).then(n.bind(null,"b48b"))},name:"ProductionDashboard",meta:{title:"生产仪表盘",icon:"dashboard",affix:!0}}]},{path:"/ordersData",component:Pe,redirect:"/onlineData",children:[{path:"onlineData",component:function(){return Promise.all([n.e("chunk-e450bdd0"),n.e("chunk-21dff0c2")]).then(n.bind(null,"7034"))},name:"OnlineData",meta:{title:"线上数据",icon:"dashboard",affix:!0}},{path:"offlineData",component:function(){return Promise.all([n.e("chunk-e450bdd0"),n.e("chunk-43e5a117")]).then(n.bind(null,"0c92"))},name:"OfflineData",meta:{title:"线下数据",icon:"dashboard",affix:!0}}]},{path:"*",redirect:"/404",hidden:!0}],We=function(){return new E["a"]({scrollBehavior:function(){return{y:0}},routes:Be})},ze=We();var Ne=ze,Ge=(n("a9e3"),n("b680"),n("ed08"));function Ue(e,t){return 1===e?e+t:e+t+"s"}function Fe(e){var t=Date.now()/1e3-Number(e);return t<3600?Ue(~~(t/60)," minute"):t<86400?Ue(~~(t/3600)," hour"):Ue(~~(t/86400)," day")}function Je(e,t){for(var n=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],i=0;i<n.length;i++)if(e>=n[i].value)return(e/n[i].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[i].symbol;return e.toString()}function qe(e){return(+e||0).toString().replace(/^-?\d+/g,(function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")}))}function Ye(e){return e.charAt(0).toUpperCase()+e.slice(1)}a["default"].use(c.a,{size:s.a.get("size")||"medium"}),Object.keys(i).forEach((function(e){a["default"].filter(e,i[e])})),a["default"].prototype.dateFormat=function(e,t){var n,i={"y+":e.getFullYear().toString(),"M+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"m+":e.getMinutes().toString(),"s+":e.getSeconds().toString()};for(var a in i)n=new RegExp("("+a+")").exec(t),n&&(t=t.replace(n[1],1==n[1].length?i[a]:i[a].padStart(n[1].length,"0")));return t},a["default"].config.productionTip=!1,new a["default"]({el:"#app",router:Ne,store:x,render:function(e){return e(m)}})},5880:function(e,t,n){},"5f87":function(e,t,n){"use strict";function i(e){return sessionStorage.getItem(e)}function a(e,t){return sessionStorage.setItem(e,t)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},6985:function(e,t,n){"use strict";n("4160"),n("159b"),n("96cf");var i=n("1da1"),a=n("14b2"),r=n("5f87"),s=n("5c96");n("8237");t["a"]={getPlatformAccountInfo:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={accountId:e,accountMd5:t},n.next=3,a["a"].queryApi(i,"/api/platformAccount/bridging","get");case 3:if(n.t0=n.sent,n.t0){n.next=6;break}n.t0={};case 6:if(o=n.t0,0!=o.code){n.next=14;break}return c=o.data||{},Object(r["b"])("token",c.accountCode),Object(r["b"])("platformAccountInfo",JSON.stringify(c)),n.abrupt("return",1);case 14:return s["Notification"].warning({message:o.msg?o.msg:"鉴权失败"}),n.abrupt("return",0);case 16:case"end":return n.stop()}}),n)})))()},getMenuJson:function(){var e=[{index:"/",title:"首页"}],t=JSON.parse(Object(r["a"])("platformAccountInfo"))||{},n=t.roleMenuList||{};return t&&n.length>0&&n.forEach((function(t){var n={};n={index:t.menuCode,title:t.menuName,subs:[]},t.children.forEach((function(e){var i={index:""==e.menuUrl?t.menuCode:e.menuUrl,title:e.menuName};e.children&&e.children.length>0&&(i.subs=[],e.children.forEach((function(e){i.subs.push({index:""==e.menuUrl?t.menuCode:e.menuUrl,title:e.menuName})}))),n.subs.push(i)})),e.push(n)})),e}}},"69d8":function(e,t,n){"use strict";var i=n("f12b"),a=n.n(i);a.a},7296:function(e,t,n){},7509:function(e,t,n){"use strict";n.r(t);n("4de4"),n("caad"),n("c975"),n("fb6a"),n("45fc"),n("a434"),n("b0c0"),n("d3b7"),n("2532"),n("ddb0");var i=n("2909"),a=n("3835"),r=n("b85c"),s={visitedViews:[],cachedViews:[]},o={ADD_VISITED_VIEW:function(e,t){e.visitedViews.some((function(e){return e.path===t.path}))||e.visitedViews.push(Object.assign({},t,{title:t.meta.title||"no-name"}))},ADD_CACHED_VIEW:function(e,t){e.cachedViews.includes(t.name)||t.meta.noCache||e.cachedViews.push(t.name)},DEL_VISITED_VIEW:function(e,t){var n,i=Object(r["a"])(e.visitedViews.entries());try{for(i.s();!(n=i.n()).done;){var s=Object(a["a"])(n.value,2),o=s[0],c=s[1];if(c.path===t.path){e.visitedViews.splice(o,1);break}}}catch(u){i.e(u)}finally{i.f()}},DEL_CACHED_VIEW:function(e,t){var n=e.cachedViews.indexOf(t.name);n>-1&&e.cachedViews.splice(n,1)},DEL_OTHERS_VISITED_VIEWS:function(e,t){e.visitedViews=e.visitedViews.filter((function(e){return e.meta.affix||e.path===t.path}))},DEL_OTHERS_CACHED_VIEWS:function(e,t){var n=e.cachedViews.indexOf(t.name);e.cachedViews=n>-1?e.cachedViews.slice(n,n+1):[]},DEL_ALL_VISITED_VIEWS:function(e){var t=e.visitedViews.filter((function(e){return e.meta.affix}));e.visitedViews=t},DEL_ALL_CACHED_VIEWS:function(e){e.cachedViews=[]},UPDATE_VISITED_VIEW:function(e,t){var n,i=Object(r["a"])(e.visitedViews);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.path===t.path){a=Object.assign(a,t);break}}}catch(s){i.e(s)}finally{i.f()}}},c={addView:function(e,t){var n=e.dispatch;n("addVisitedView",t),n("addCachedView",t)},addVisitedView:function(e,t){var n=e.commit;n("ADD_VISITED_VIEW",t)},addCachedView:function(e,t){var n=e.commit;n("ADD_CACHED_VIEW",t)},delView:function(e,t){var n=e.dispatch,a=e.state;return new Promise((function(e){n("delVisitedView",t),n("delCachedView",t),e({visitedViews:Object(i["a"])(a.visitedViews),cachedViews:Object(i["a"])(a.cachedViews)})}))},delVisitedView:function(e,t){var n=e.commit,a=e.state;return new Promise((function(e){n("DEL_VISITED_VIEW",t),e(Object(i["a"])(a.visitedViews))}))},delCachedView:function(e,t){var n=e.commit,a=e.state;return new Promise((function(e){n("DEL_CACHED_VIEW",t),e(Object(i["a"])(a.cachedViews))}))},delOthersViews:function(e,t){var n=e.dispatch,a=e.state;return new Promise((function(e){n("delOthersVisitedViews",t),n("delOthersCachedViews",t),e({visitedViews:Object(i["a"])(a.visitedViews),cachedViews:Object(i["a"])(a.cachedViews)})}))},delOthersVisitedViews:function(e,t){var n=e.commit,a=e.state;return new Promise((function(e){n("DEL_OTHERS_VISITED_VIEWS",t),e(Object(i["a"])(a.visitedViews))}))},delOthersCachedViews:function(e,t){var n=e.commit,a=e.state;return new Promise((function(e){n("DEL_OTHERS_CACHED_VIEWS",t),e(Object(i["a"])(a.cachedViews))}))},delAllViews:function(e,t){var n=e.dispatch,a=e.state;return new Promise((function(e){n("delAllVisitedViews",t),n("delAllCachedViews",t),e({visitedViews:Object(i["a"])(a.visitedViews),cachedViews:Object(i["a"])(a.cachedViews)})}))},delAllVisitedViews:function(e){var t=e.commit,n=e.state;return new Promise((function(e){t("DEL_ALL_VISITED_VIEWS"),e(Object(i["a"])(n.visitedViews))}))},delAllCachedViews:function(e){var t=e.commit,n=e.state;return new Promise((function(e){t("DEL_ALL_CACHED_VIEWS"),e(Object(i["a"])(n.cachedViews))}))},updateVisitedView:function(e,t){var n=e.commit;n("UPDATE_VISITED_VIEW",t)}};t["default"]={namespaced:!0,state:s,mutations:o,actions:c}},"75a3":function(e,t,n){"use strict";var i=n("c6f0"),a=n.n(i);a.a},"83d6":function(e,t){e.exports={title:"某某有限公司",showSettings:!1,tagsView:!0,fixedHeader:!0,sidebarLogo:!1,errorLog:"production"}},"8a5e":function(e,t,n){"use strict";var i=n("b4d1"),a=n.n(i);a.a},"90ac":function(e,t,n){"use strict";var i=n("10b6"),a=n.n(i);a.a},"954c":function(e,t,n){"use strict";var i=n("1f2c"),a=n.n(i);a.a},b20f:function(e,t,n){e.exports={menuText:"#5c79ff",subMenuText:"#fff",menuActiveText:"#fff",subMenuActiveText:"#fff",menuBg:"#222",menuHover:"#5c79ff",subMenuBg:"#333",subMenuHover:"#5c79ff",sideBarWidth:"200px"}},b4d1:function(e,t,n){},be35:function(e,t,n){},c653:function(e,t,n){var i={"./app.js":"d9cd","./errorLog.js":"4d49","./settings.js":"0781","./tagsView.js":"7509"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="c653"},c6f0:function(e,t,n){},cf1e:function(e,t,n){e.exports={menuText:"#5c79ff",subMenuText:"#fff",menuActiveText:"#fff",subMenuActiveText:"#fff",menuBg:"#222",menuHover:"#5c79ff",subMenuBg:"#333",subMenuHover:"#5c79ff",sideBarWidth:"200px"}},cfaa:function(e,t,n){"use strict";var i=n("e1eb"),a=n.n(i);a.a},d9cd:function(e,t,n){"use strict";n.r(t);var i=n("a78e"),a=n.n(i),r={sidebar:{opened:!a.a.get("sidebarStatus")||!!+a.a.get("sidebarStatus"),withoutAnimation:!1},device:"desktop",size:a.a.get("size")||"medium"},s={TOGGLE_SIDEBAR:function(e){e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1,e.sidebar.opened?a.a.set("sidebarStatus",1):a.a.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(e,t){a.a.set("sidebarStatus",0),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t},SET_SIZE:function(e,t){e.size=t,a.a.set("size",t)}},o={toggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},closeSideBar:function(e,t){var n=e.commit,i=t.withoutAnimation;n("CLOSE_SIDEBAR",i)},toggleDevice:function(e,t){var n=e.commit;n("TOGGLE_DEVICE",t)},setSize:function(e,t){var n=e.commit;n("SET_SIZE",t)}};t["default"]={namespaced:!0,state:r,mutations:s,actions:o}},e1eb:function(e,t,n){},e565:function(e,t,n){},ed08:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));n("4160"),n("a630"),n("c975"),n("a15b"),n("baa5"),n("d81d"),n("fb6a"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("6062"),n("3ca3"),n("466d"),n("4d90"),n("5319"),n("1276"),n("159b"),n("ddb0");var i=n("53ca");function a(e,t){if(0===arguments.length||!e)return null;var n,a=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(i["a"])(e)?n=e:("string"===typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),n=new Date(e));var r={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},s=a.replace(/{([ymdhisa])+}/g,(function(e,t){var n=r[t];return"a"===t?["日","一","二","三","四","五","六"][n]:n.toString().padStart(2,"0")}));return s}function r(e,t){e=10===(""+e).length?1e3*parseInt(e):+e;var n=new Date(e),i=Date.now(),r=(i-n)/1e3;return r<30?"刚刚":r<3600?Math.ceil(r/60)+"分钟前":r<86400?Math.ceil(r/3600)+"小时前":r<172800?"1天前":t?a(e,t):n.getMonth()+1+"月"+n.getDate()+"日"+n.getHours()+"时"+n.getMinutes()+"分"}function s(e,t,n){var i,a,r,s,o,c=function c(){var u=+new Date-s;u<t&&u>0?i=setTimeout(c,t-u):(i=null,n||(o=e.apply(r,a),i||(r=a=null)))};return function(){for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];r=this,s=+new Date;var d=n&&!i;return i||(i=setTimeout(c,t)),d&&(o=e.apply(r,u),r=u=null),o}}},f12b:function(e,t,n){},f48a:function(e,t,n){e.exports=n.p+"static/img/logo01.c4b03344.png"}},[[0,"runtime","chunk-elementUI","chunk-libs"]]]);